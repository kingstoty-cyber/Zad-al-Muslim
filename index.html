<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تطبيق زاد المسلم v3.0</title>
    
    <!-- مكتبات خارجية -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;800&family=Amiri&display=swap" rel="stylesheet">
    
    <!-- ملفات التطبيق -->
    <link rel="stylesheet" href="styles.css">
</head>
<body id="app-body">

    <div class="header-section">
        <h1>زاد المسلم</h1>
        <p id="current-date"></p>
        <div id="current-theme"></div>
    </div>

    <main class="main-content">
        <div id="page-content"></div>
    </main>

    <div class="scroll-top" id="scrollTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <nav class="bottom-nav">
        <div class="nav-item active" data-tab="home">
            <i class="fas fa-home"></i>
            <span>الرئيسية</span>
        </div>
        <div class="nav-item" data-tab="adhkar">
            <i class="fas fa-bead-tree"></i>
            <span>الأذكار</span>
        </div>
        <div class="nav-item" data-tab="tasbeeh">
            <i class="fas fa-circle-notch"></i>
            <span>المسبحة</span>
        </div>
        <div class="nav-item" data-tab="quran">
            <i class="fas fa-book-quran"></i>
            <span>الختمة</span>
        </div>
        <div class="nav-item" data-tab="themes">
            <i class="fas fa-palette"></i>
            <span>السمات</span>
        </div>
        <div class="nav-item" data-tab="settings">
            <i class="fas fa-user-gear"></i>
            <span>الإعدادات</span>
        </div>
    </nav>

    <!-- ملفات JavaScript -->
    <script src="data.js"></script>
    <script src="app.js"></script>
</body>
</html><style>:root {
    /* ألوان السمة الذهبية (الافتراضية) */
    --primary-color: #c5a059;
    --primary-dark: #8e6d2d;
    --secondary-color: #2ecc71;
    --accent-color: #3498db;
    --bg-color: #0a0b10;
    --card-bg: #16181d;
    --text-color: #e0e0e0;
    --soft-white: rgba(255, 255, 255, 0.05);
    --shadow: 0 10px 30px rgba(0,0,0,0.3);
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --theme-name: "ذهبي ليلي";
}

/* سمة زرقاء ليلية */
.theme-blue {
    --primary-color: #3498db;
    --primary-dark: #1d6fa5;
    --secondary-color: #2ecc71;
    --accent-color: #9b59b6;
    --bg-color: #0a1520;
    --card-bg: #16202d;
    --text-color: #e0f0ff;
    --theme-name: "أزرق ليلي";
}

/* سمة خضراء ليلية */
.theme-green {
    --primary-color: #2ecc71;
    --primary-dark: #27ae60;
    --secondary-color: #3498db;
    --accent-color: #f39c12;
    --bg-color: #0a100b;
    --card-bg: #16201a;
    --text-color: #e0ffe7;
    --theme-name: "أخضر ليلي";
}

/* سمة أرجوانية ليلية */
.theme-purple {
    --primary-color: #9b59b6;
    --primary-dark: #8e44ad;
    --secondary-color: #e74c3c;
    --accent-color: #3498db;
    --bg-color: #150a20;
    --card-bg: #20162d;
    --text-color: #f0e0ff;
    --theme-name: "أرجواني ليلي";
}

/* سمة برتقالية ليلية */
.theme-orange {
    --primary-color: #e67e22;
    --primary-dark: #d35400;
    --secondary-color: #2ecc71;
    --accent-color: #3498db;
    --bg-color: #1a0e0a;
    --card-bg: #2d1c16;
    --text-color: #ffeae0;
    --theme-name: "برتقالي ليلي";
}

/* ========== السمات النهارية ========== */

/* سمة ذهبية نهارية */
.theme-gold-light {
    --primary-color: #c5a059;
    --primary-dark: #8e6d2d;
    --secondary-color: #2ecc71;
    --accent-color: #3498db;
    --bg-color: #f8f9fa;
    --card-bg: #ffffff;
    --text-color: #2c3e50;
    --soft-white: rgba(0, 0, 0, 0.08);
    --shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    --theme-name: "ذهبي نهار";
}

/* سمة زرقاء نهارية */
.theme-blue-light {
    --primary-color: #3498db;
    --primary-dark: #1d6fa5;
    --secondary-color: #2ecc71;
    --accent-color: #9b59b6;
    --bg-color: #f0f8ff;
    --card-bg: #ffffff;
    --text-color: #2c3e50;
    --soft-white: rgba(0, 0, 0, 0.08);
    --shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    --theme-name: "أزرق نهار";
}

/* سمة خضراء نهارية */
.theme-green-light {
    --primary-color: #2ecc71;
    --primary-dark: #27ae60;
    --secondary-color: #3498db;
    --accent-color: #f39c12;
    --bg-color: #f0fff4;
    --card-bg: #ffffff;
    --text-color: #2c3e50;
    --soft-white: rgba(0, 0, 0, 0.08);
    --shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    --theme-name: "أخضر نهار";
}

/* سمة أرجوانية نهارية */
.theme-purple-light {
    --primary-color: #9b59b6;
    --primary-dark: #8e44ad;
    --secondary-color: #e74c3c;
    --accent-color: #3498db;
    --bg-color: #f9f0ff;
    --card-bg: #ffffff;
    --text-color: #2c3e50;
    --soft-white: rgba(0, 0, 0, 0.08);
    --shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    --theme-name: "أرجواني نهار";
}

/* سمة برتقالية نهارية */
.theme-orange-light {
    --primary-color: #e67e22;
    --primary-dark: #d35400;
    --secondary-color: #2ecc71;
    --accent-color: #3498db;
    --bg-color: #fff4e6;
    --card-bg: #ffffff;
    --text-color: #2c3e50;
    --soft-white: rgba(0, 0, 0, 0.08);
    --shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    --theme-name: "برتقالي نهار";
}

* {
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
}

body {
    background-color: var(--bg-color);
    color: var(--text-color);
    font-family: 'Tajawal', sans-serif;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    transition: var(--transition);
}

/* شريط التنقل السفلي */
.bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 70px;
    background: var(--card-bg);
    display: flex;
    justify-content: space-around;
    align-items: center;
    border-top: 1px solid var(--soft-white);
    z-index: 1000;
    backdrop-filter: blur(10px);
    transition: var(--transition);
    box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
}

.nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    color: #7f8c8d;
    text-decoration: none;
    font-size: 0.75rem;
    cursor: pointer;
    transition: var(--transition);
    padding: 8px 0;
}

.nav-item.active {
    color: var(--primary-color);
}

.nav-item i {
    font-size: 1.4rem;
    margin-bottom: 4px;
}

/* المحتوى الرئيسي */
.main-content {
    padding: 20px;
    padding-bottom: 90px;
    max-width: 800px;
    margin: 0 auto;
    width: 100%;
}

.header-section {
    text-align: center;
    padding: 40px 0;
    background: linear-gradient(to bottom, var(--card-bg), transparent);
    border-radius: 0 0 30px 30px;
    margin-bottom: 25px;
    transition: var(--transition);
}

.header-section h1 {
    font-family: 'Amiri', serif;
    font-size: 2.5rem;
    color: var(--primary-color);
    margin: 0;
    transition: var(--transition);
}

.ayah-of-day {
    background: linear-gradient(135deg, var(--card-bg), color-mix(in srgb, var(--card-bg) 80%, #000));
    border-right: 4px solid var(--accent-color);
    margin: 15px 0;
    padding: 15px;
    border-radius: 12px;
    font-family: 'Amiri', serif;
    font-size: 1.2rem;
    line-height: 1.8;
    text-align: center;
    transition: var(--transition);
}

/* تصميم البطاقات */
.card {
    background: var(--card-bg);
    border-radius: 20px;
    padding: 20px;
    margin-bottom: 20px;
    border: 1px solid var(--soft-white);
    box-shadow: var(--shadow);
    position: relative;
    overflow: hidden;
    transition: var(--transition);
}

.card::before {
    content: "";
    position: absolute;
    top: 0; left: 0; width: 4px; height: 100%;
    background: var(--primary-color);
    transition: var(--transition);
}

.card-title {
    font-size: 1.2rem;
    font-weight: 800;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--primary-color);
    transition: var(--transition);
}

/* أنظمة الإدخال */
input[type="checkbox"] {
    appearance: none;
    width: 25px;
    height: 25px;
    border: 2px solid var(--primary-color);
    border-radius: 6px;
    cursor: pointer;
    position: relative;
    transition: var(--transition);
}

input[type="checkbox"]:checked {
    background: var(--primary-color);
}

input[type="checkbox"]:checked::after {
    content: "\f00c";
    font-family: "Font Awesome 6 Free";
    font-weight: 900;
    color: var(--bg-color);
    font-size: 14px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.list-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 0;
    border-bottom: 1px solid var(--soft-white);
}

.prayer-times {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin-top: 15px;
}

.prayer-time {
    background: rgba(255,255,255,0.05);
    padding: 12px;
    border-radius: 10px;
    text-align: center;
    transition: var(--transition);
}

.prayer-time.current {
    background: var(--primary-color);
    color: #000;
    font-weight: bold;
    transform: scale(1.05);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.prayer-time .name {
    font-size: 0.9rem;
    color: var(--text-color);
    margin-bottom: 5px;
}

.prayer-time.current .name {
    color: #000;
}

.prayer-time .time {
    font-size: 1.1rem;
    font-weight: bold;
}

.dhikr-counter {
    background: color-mix(in srgb, var(--primary-color) 10%, transparent);
    padding: 12px;
    border-radius: 12px;
    margin: 10px 0;
    border: 1px solid color-mix(in srgb, var(--primary-color) 30%, transparent);
    transition: var(--transition);
}

.dhikr-text {
    font-family: 'Amiri', serif;
    font-size: 1.3rem;
    line-height: 1.8;
    margin-bottom: 15px;
    text-align: center;
    color: var(--text-color);
}

.counter-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 10px;
}

.counter-btn {
    background: var(--primary-color);
    color: #000;
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    font-size: 1.2rem;
    cursor: pointer;
    transition: var(--transition);
}

.counter-btn:hover {
    transform: scale(1.1);
}

.counter-display {
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--primary-color);
}

.complete-btn {
    background: var(--secondary-color);
    color: white;
    border: none;
    padding: 8px 20px;
    border-radius: 20px;
    font-family: 'Tajawal', sans-serif;
    cursor: pointer;
    transition: var(--transition);
}

.complete-btn:hover {
    transform: scale(1.05);
}

.progress-bar {
    height: 8px;
    background: var(--soft-white);
    border-radius: 4px;
    overflow: hidden;
    margin: 10px 0;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary-dark), var(--primary-color));
    transition: width 0.5s ease, background 0.5s ease;
}

/* أزرار السمة */
.theme-selector {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 10px;
    margin-top: 15px;
}

.theme-btn {
    height: 50px;
    border-radius: 10px;
    border: 2px solid transparent;
    cursor: pointer;
    transition: var(--transition);
    position: relative;
    overflow: hidden;
}

.theme-btn.active {
    border-color: var(--text-color);
    transform: scale(1.05);
}

.theme-btn.active::after {
    content: "✓";
    position: absolute;
    top: 5px;
    left: 5px;
    background: rgba(0,0,0,0.7);
    color: white;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
}

.theme-btn.gold { background: linear-gradient(135deg, #c5a059, #8e6d2d); }
.theme-btn.blue { background: linear-gradient(135deg, #3498db, #1d6fa5); }
.theme-btn.green { background: linear-gradient(135deg, #2ecc71, #27ae60); }
.theme-btn.purple { background: linear-gradient(135deg, #9b59b6, #8e44ad); }
.theme-btn.orange { background: linear-gradient(135deg, #e67e22, #d35400); }

.theme-label {
    font-size: 0.8rem;
    text-align: center;
    margin-top: 5px;
    color: var(--text-color);
}

/* زر المتابعة */
.btn-primary {
    background: linear-gradient(45deg, var(--primary-dark), var(--primary-color));
    border: none;
    color: #000;
    padding: 15px 30px;
    border-radius: 12px;
    font-weight: bold;
    width: 100%;
    cursor: pointer;
    font-family: 'Tajawal', sans-serif;
    transition: var(--transition);
}

.btn-primary:hover {
    transform: scale(1.02);
    filter: brightness(1.1);
}

.tab-buttons {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
    overflow-x: auto;
    padding-bottom: 10px;
}

.tab-btn {
    background: var(--soft-white);
    border: none;
    color: var(--text-color);
    padding: 10px 20px;
    border-radius: 20px;
    font-family: 'Tajawal', sans-serif;
    cursor: pointer;
    white-space: nowrap;
    transition: var(--transition);
}

.tab-btn.active {
    background: var(--primary-color);
    color: #000;
}

/* تأثيرات التحميل */
.fade-in {
    animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* زر العودة إلى الأعلى */
.scroll-top {
    position: fixed;
    bottom: 80px;
    left: 20px;
    background: var(--primary-color);
    color: #000;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    cursor: pointer;
    opacity: 0;
    transform: translateY(20px);
    transition: var(--transition);
    z-index: 999;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.scroll-top.visible {
    opacity: 1;
    transform: translateY(0);
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.02); }
    100% { transform: scale(1); }
}

.smart-reminder {
    animation: pulse 3s infinite ease-in-out;
    border-right: 5px solid var(--accent-color);
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

@keyframes tasbeeh-click {
    0% { transform: scale(1); }
    50% { transform: scale(0.95); }
    100% { transform: scale(1); }
}

.tasbeeh-clicked {
    animation: tasbeeh-click 0.2s ease;
}

/* تحسينات إضافية */
.loading-spinner {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px;
}

.loading-spinner i {
    font-size: 3rem;
    color: var(--primary-color);
    margin-bottom: 20px;
}

/* تأثيرات الوضع النهاري */
body .theme-btn.gold-light { background: linear-gradient(135deg, #f8d7a4, #c5a059); }
body .theme-btn.blue-light { background: linear-gradient(135deg, #a8d5f7, #3498db); }
body .theme-btn.green-light { background: linear-gradient(135deg, #a3e9c3, #2ecc71); }
body .theme-btn.purple-light { background: linear-gradient(135deg, #d4b1e6, #9b59b6); }
body .theme-btn.orange-light { background: linear-gradient(135deg, #f7c9a1, #e67e22); }

/* تحسينات المسبحة */
.tasbeeh-container {
    text-align: center;
    padding: 20px;
}

.tasbeeh-btn {
    width: 180px;
    height: 180px;
    border-radius: 50%;
    border: 10px solid var(--card-bg);
    background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
    color: #000;
    font-size: 3.5rem;
    cursor: pointer;
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    transition: transform 0.1s;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
}

.tasbeeh-btn:active {
    transform: scale(0.95);
}

.dhikr-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.dhikr-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}

/* تحسينات للوضع النهاري */
body .card {
    box-shadow: var(--shadow);
}

body .bottom-nav {
    box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
}

body .ayah-of-day {
    background: linear-gradient(135deg, var(--card-bg), color-mix(in srgb, var(--card-bg) 90%, #fff));
}

/* تحسين شريط التقدم */
.progress-bar {
    position: relative;
}

.progress-bar::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255,255,255,0.2), 
        transparent);
    animation: shimmer 2s infinite;
}

@keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

/* تحسينات التحميل */
.location-update {
    background: rgba(52, 152, 219, 0.1);
    padding: 10px;
    border-radius: 10px;
    margin-top: 10px;
}

.location-update button {
    background: var(--accent-color);
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 8px;
    cursor: pointer;
    font-family: 'Tajawal';
    margin-right: 10px;
}

.location-update button:hover {
    filter: brightness(1.1);
}</style><script>// ========== البيانات الأساسية ==========

// قائمة التذكيرات الذكية
const SmartReminders = [
    "صلِّ على النبي ﷺ",
    "استغفر الله العظيم وأتوب إليه",
    "سبحان الله وبحمده، سبحان الله العظيم",
    "لا حول ولا قوة إلا بالله العلي العظيم",
    "اذكر الله يذكرك، واشكره على نعمه يزدك",
    "هل قرأت وردك من القرآن اليوم؟",
    "صلاة الضحى صلاة الأوابين.. لا تحرم نفسك أجرها",
    "اللهم إني فوضت أمري إليك",
    "لا إله إلا أنت سبحانك إني كنت من الظالمين",
    "يا حي يا قيوم برحمتك أستغيث",
    "اللهم أعني على ذكرك وشكرك وحسن عبادتك",
    "اجعل لنفسك خبيئة من عمل صالح",
    "الصلاة خير من النوم.. صلاة الفجر نور يومك",
    "ركعتا الفجر خير من الدنيا وما فيها",
    "من لزم الاستغفار جعل الله له من كل هم فرجاً",
    "اللهم اكفني بحلالك عن حرامك",
    "رضيت بالله رباً وبالإسلام ديناً وبمحمد ﷺ نبياً",
    "اللهم إنك عفو كريم تحب العفو فاعفُ عني",
    "لا إله إلا الله وحده لا شريك له",
    "كن في الدنيا كأنك غريب أو عابر سبيل",
    "كلمتان خفيفتان على اللسان ثقيلتان في الميزان: سبحان الله وبحمده",
    "الكلمة الطيبة صدقة",
    "ابتسامتك في وجه أخيك صدقة",
    "اللهم آتنا في الدنيا حسنة وفي الآخرة حسنة",
    "رب اجعلني مقيم الصلاة ومن ذريتي",
    "حسبنا الله ونعم الوكيل",
    "يا مقلب القلوب ثبت قلبي على دينك",
    "اللهم أحسن عاقبتنا في الأمور كلها",
    "من قرأ سورة الملك قبل النوم وقته من عذاب القبر",
    "أحب الكلام إلى الله أربع: سبحان الله، والحمد لله، ولا إله إلا الله، والله أكبر",
    "اللهم بارك لنا في أوقاتنا وأعمالنا",
    "الزم شكر الله على أصغر النعم",
    "الحمد لله حمداً كثيراً طيباً مباركاً فيه",
    "من سلك طريقاً يلتمس فيه علماً سهل الله له به طريقاً إلى الجنة",
    "اللهم اغفر لي ولوالدي وللمؤمنين والمؤمنات",
    "ربِّ اغفر لي وتب عليّ إنك أنت التواب الرحيم",
    "يا رب توفيقك يرافق خطاي",
    "ما من يوم ينشق فجره إلا وينادي: يا ابن آدم أنا خلق جديد وعلى عملك شهيد",
    "الصلوات الخمس كفارات لما بينهن",
    "اللهم نسألك حسن الخاتمة",
    "طوبى لمن وجد في صحيفته استغفاراً كثيراً",
    "ما نقصت صدقة من مال",
    "اللهم حبب إلينا الإيمان وزينه في قلوبنا",
    "اللهم انفعنا بما علمتنا وعلمنا ما ينفعنا",
    "اللهم ارزقنا عيش السعداء وموت الشهداء",
    "لا تنسَ قراءة سورة الكهف في يوم الجمعة",
    "من صلى عليّ واحدة صلى الله عليه بها عشراً",
    "اللهم اجعل القرآن ربيع قلوبنا",
    "الباقيات الصالحات: سبحان الله والحمد لله ولا إله إلا الله والله أكبر",
    "أجمل ما يقال كل يوم: استودعت الله نفسي وديني وأهلي"
];

// قاعدة بيانات الأذكار الموسعة
const AdhkarDB = {
    morning: [
        { id: 1, text: "أَصْبَحْنَا وَأَصْبَحَ الْمُلْكُ لِلَّهِ، وَالْحَمْدُ لِلَّهِ، لَا إِلَٰهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَىٰ كُلِّ شَيْءٍ قَدِيرٌ", count: 1, reference: "رواه مسلم", times: "مرة واحدة" },
        { id: 2, text: "اللَّهُمَّ بِكَ أَصْبَحْنَا، وَبِكَ أَمْسَيْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ، وَإِلَيْكَ النُّشُورُ", count: 1, reference: "رواه الترمذي", times: "مرة واحدة" },
        { id: 3, text: "اللَّهُمَّ إِنِّي أَصْبَحْتُ أُشْهِدُكَ، وَأُشْهِدُ حَمَلَةَ عَرْشِكَ، وَمَلَائِكَتَكَ، وَجَمِيعَ خَلْقِكَ، أَنَّكَ أَنْتَ اللَّهُ لَا إِلَٰهَ إِلَّا أَنْتَ وَحْدَكَ لَا شَرِيكَ لَكَ، وَأَنَّ مُحَمَّدًا عَبْدُكَ وَرَسُولُكَ", count: 4, reference: "رواه أبو داود", times: "أربع مرات" },
        { id: 4, text: "اللَّهُمَّ مَا أَصْبَحَ بِي مِنْ نِعْمَةٍ أَوْ بِأَحَدٍ مِنْ خَلْقِكَ، فَمِنْكَ وَحْدَكَ لَا شَرِيكَ لَكَ، فَلَكَ الْحَمْدُ وَلَكَ الشُّكْرُ", count: 1, reference: "رواه أبو داود", times: "مرة واحدة" },
        { id: 5, text: "حَسْبِيَ اللَّهُ لَا إِلَٰهَ إِلَّا هُوَ عَلَيْهِ تَوَكَّلْتُ وَهُوَ رَبُّ الْعَرْشِ الْعَظِيمِ", count: 7, reference: "رواه أبو داود", times: "سبع مرات" }
    ],
    evening: [
        { id: 11, text: "أَمْسَيْنَا وَأَمْسَى الْمُلْكُ لِلَّهِ، وَالْحَمْدُ لِلَّهِ، لَا إِلَٰهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَىٰ كُلِّ شَيْءٍ قَدِيرٌ", count: 1, reference: "رواه مسلم", times: "مرة واحدة" },
        { id: 12, text: "اللَّهُمَّ بِكَ أَمْسَيْنَا، وَبِكَ أَصْبَحْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ، وَإِلَيْكَ الْمَصِيرُ", count: 1, reference: "رواه الترمذي", times: "مرة واحدة" },
        { id: 13, text: "اللَّهُمَّ إِنِّي أَمْسَيْتُ أُشْهِدُكَ، وَأُشْهِدُ حَمَلَةَ عَرْشِكَ، وَمَلَائِكَتَكَ، وَجَمِيعَ خَلْقِكَ، أَنَّكَ أَنْتَ اللَّهُ لَا إِلَٰهَ إِلَّا أَنْتَ وَحْدَكَ لَا شَرِيكَ لَكَ، وَأَنَّ مُحَمَّدًا عَبْدُكَ وَرَسُولُكَ", count: 4, reference: "رواه أبو داود", times: "أربع مرات" },
        { id: 14, text: "أَعُوذُ بِكَلِمَاتِ اللَّهِ التَّامَّاتِ مِنْ شَرِّ مَا خَلَقَ", count: 3, reference: "رواه مسلم", times: "ثلاث مرات" },
        { id: 15, text: "اللَّهُمَّ إِنِّي أَسْأَلُكَ عَفْوَ وَعَافِيَةً فِي دِينِي وَدُنْيَايَ وَأَهْلِي وَمَالِي", count: 1, reference: "رواه أبو داود", times: "مرة واحدة" }
    ],
    afterPrayer: [
        { id: 21, text: "أَسْتَغْفِرُ اللَّهَ (ثلاثاً) اللَّهُمَّ أَنْتَ السَّلَامُ وَمِنْكَ السَّلَامُ تَبَارَكْتَ يَا ذَا الْجَلَالِ وَالْإِكْرَامِ", count: 1, reference: "رواه مسلم", times: "مرة واحدة" },
        { id: 22, text: "لَا إِلَٰهَ إِلَّا اللَّهُ وَحَدْهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَىٰ كُلِّ شَيْءٍ قَدِيرٌ", count: 10, reference: "رواه مسلم", times: "عشر مرات" },
        { id: 23, text: "سُبْحَانَ اللَّهِ", count: 33, reference: "رواه البخاري", times: "ثلاث وثلاثون" },
        { id: 24, text: "الْحَمْدُ لِلَّهِ", count: 33, reference: "رواه البخاري", times: "ثلاث وثلاثون" },
        { id: 25, text: "اللَّهُ أَكْبَرُ", count: 34, reference: "رواه البخاري", times: "أربع وثلاثون" }
    ],
    sleeping: [
        { id: 31, text: "بِاسْمِكَ رَبِّي وَضَعْتُ جَنْبِي، وَبِكَ أَرْفَعُهُ، إِنْ أَمْسَكْتَ نَفْسِي فَارْحَمْهَا، وَإِنْ أَرْسَلْتَهَا فَاحْفَظْهَا بِمَا تَحْفَظُ بِهِ عِبَادَكَ الصَّالِحِينَ", count: 1, reference: "رواه البخاري", times: "مرة واحدة" },
        { id: 32, text: "اللَّهُمَّ قِنِي عَذَابَكَ يَوْمَ تَبْعَثُ عِبَادَكَ", count: 3, reference: "رواه الترمذي", times: "ثلاث مرات" }
    ],
    wakingUp: [
        { id: 41, text: "الْحَمْدُ لِلَّهِ الَّذِي أَحْيَانَا بَعْدَ مَا أَمَاتَنَا، وَإِلَيْهِ النُّشُورُ", count: 1, reference: "رواه البخاري", times: "مرة واحدة" },
        { id: 42, text: "لَا إِلَٰهَ إِلَّا اللَّهُ وَحَدْهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَىٰ كُلِّ شَيْءٍ قَدِيرٌ، سُبْحَانَ اللَّهِ، وَالْحَمْدُ لِلَّهِ، وَلَا إِلَٰهَ إِلَّا اللَّهُ، وَاللَّهُ أَكْبَرُ، وَلَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِاللَّهِ", count: 10, reference: "رواه الترمذي", times: "عشر مرات" }
    ]
};

// آيات قرآنية
const QuranAyahs = [
    { text: "الَّذِينَ آمَنُوا وَتَطْمَئِنُّ قُلُوبُهُمْ بِذِكْرِ اللَّهِ أَلَا بِذِكْرِ اللَّهِ تَطْمَئِنُّ الْقُلُوبُ", reference: "الرعد: ٢٨" },
    { text: "إِنَّمَا يُوَفَّى الصَّابِرُونَ أَجْرَهُمْ بِغَيْرِ حِسَابٍ", reference: "الزمر: ١٠" },
    { text: "وَمَنْ يَتَّقِ اللَّهَ يَجْعَلْ لَهُ مَخْرَجًا * وَيَرْزُقْهُ مِنْ حَيْثُ لَا يَحْتَسِبُ", reference: "الطلاق: ٢-٣" },
    { text: "رَبِّ اشْرَحْ لِي صَدْرِي * وَيَسِّرْ لِي أَمْرِي", reference: "طه: ٢٥-٢٦" },
    { text: "إِنَّ مَعَ الْعُسْرِ يُسْرًا * إِنَّ مَعَ الْعُسْرِ يُسْرًا", reference: "الشرح: ٥-٦" }
];

// قائمة المسبحة
const TasbeehList = [
    { text: "سبحان الله", target: 33 },
    { text: "الحمد لله", target: 33 },
    { text: "الله أكبر", target: 34 },
    { text: "لا إله إلا الله", target: 100 },
    { text: "أستغفر الله", target: 100 },
    { text: "سبحان الله وبحمده", target: 100 },
    { text: "سبحان الله العظيم", target: 100 },
    { text: "لا حول ولا قوة إلا بالله", target: 100 },
    { text: "حسبي الله ونعم الوكيل", target: 100 },
    { text: "اللهم صل على محمد", target: 100 }
];

// السمات المتاحة
const Themes = [
    // السمات الليلية
    { id: "default", name: "ذهبي ليلي", class: "" },
    { id: "blue", name: "أزرق ليلي", class: "theme-blue" },
    { id: "green", name: "أخضر ليلي", class: "theme-green" },
    { id: "purple", name: "أرجواني ليلي", class: "theme-purple" },
    { id: "orange", name: "برتقالي ليلي", class: "theme-orange" },
    
    // السمات النهارية
    { id: "gold-light", name: "ذهبي نهار", class: "theme-gold-light" },
    { id: "blue-light", name: "أزرق نهار", class: "theme-blue-light" },
    { id: "green-light", name: "أخضر نهار", class: "theme-green-light" },
    { id: "purple-light", name: "أرجواني نهار", class: "theme-purple-light" },
    { id: "orange-light", name: "برتقالي نهار", class: "theme-orange-light" }
];

// الصلوات
const Prayers = [
    { name: "الفجر", time: "04:30", index: 0 },
    { name: "الشروق", time: "05:45", index: 1 },
    { name: "الظهر", time: "12:15", index: 2 },
    { name: "العصر", time: "15:45", index: 3 },
    { name: "المغرب", time: "18:30", index: 4 },
    { name: "العشاء", time: "19:45", index: 5 }
];

// نظام الذاكرة المحلية
const Storage = {
    save(key, data) { 
        try {
            localStorage.setItem(key, JSON.stringify(data)); 
        } catch (e) {
            console.error('خطأ في حفظ البيانات:', e);
        }
    },
    load(key) { 
        try {
            return JSON.parse(localStorage.getItem(key)) || null; 
        } catch (e) {
            console.error('خطأ في تحميل البيانات:', e);
            return null;
        }
    }
};

// تهيئة الحالة العامة للتطبيق
let AppState = {
    currentTab: 'home',
    currentTheme: Storage.load('app_theme') || 'default',
    quranProgress: Storage.load('quran_v3') || [],
    prayerLog: Storage.load('prayer_v3') || { date: '', list: [] },
    adhkarHistory: Storage.load('adhkar_v3') || {},
    themeMode: Storage.load('theme_mode') || 'dark',
    autoTheme: Storage.load('auto_theme') || false
};</script>